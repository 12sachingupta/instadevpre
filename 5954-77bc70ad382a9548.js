!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1ffed17e-ddbe-4954-91c1-3a750f53daf1",e._sentryDebugIdIdentifier="sentry-dbid-1ffed17e-ddbe-4954-91c1-3a750f53daf1")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5954],{54550:function(e,t,n){n.d(t,{h:function(){return i}});var s=n(27573),r=n(57908),a=n(61802);let i=e=>{let{children:t,loading:n,className:i}=e;return n?(0,s.jsx)("div",{className:(0,r.Z)("flex items-center justify-center align-middle",i),children:(0,s.jsx)(a.g,{})}):(0,s.jsx)(s.Fragment,{children:t})}},61802:function(e,t,n){n.d(t,{g:function(){return a}});var s=n(27573),r=n(51430);let a=e=>{let{weight:t="regular",size:n=26}=e;return(0,s.jsx)("div",{className:"flex h-full flex-auto flex-col items-center justify-center px-4 text-center align-middle",children:(0,s.jsx)("div",{className:"text-[#6096FF]",children:(0,s.jsx)(r.U,{size:n,weight:t,className:"animate-spin"})})})}},19771:function(e,t,n){n.d(t,{T:function(){return a}});var s=n(27573),r=n(51430);let a=e=>{let{size:t,noText:n=!1}=e;return(0,s.jsxs)("div",{className:"absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 flex-col items-center px-4 text-center",children:[(0,s.jsx)("div",{className:"mb-6 text-[#6096FF]",children:(0,s.jsx)(r.U,{size:"sm"===t?22:"md"===t?32:48,className:"animate-spin"})}),!n&&(0,s.jsx)("h1",{className:"text-".concat(t," mt-2 text-neutral-600 sm:mt-0 dark:text-white"),children:"Loading..."})]})}},74011:function(e,t,n){var s=n(27573),r=n(61597),a=n(95014),i=n(57908),o=n(18255),l=n.n(o);n(7653),t.Z=e=>{let{currentPage:t,totalPages:n,handlePageChange:o}=e;return(0,s.jsxs)("div",{className:"mt-10 flex items-center justify-center text-gray-600 dark:text-white",children:[(0,s.jsx)("button",{className:"mr-2 hover:text-gray-500 dark:hover:text-[#bbbbbb]",disabled:1===t,onClick:()=>o(t-1),children:(0,s.jsx)(r.W,{size:12})}),(0,s.jsxs)("ul",{className:"flex space-x-2",children:[t>=3&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"h-8 w-8 rounded border border-transparent text-xs hover:border-gray-500 hover:text-gray-500 dark:hover:border-[#bbbbbb] dark:hover:text-[#bbbbbb]",onClick:()=>o(1),children:"1"})}),t>3&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"h-8 w-8 rounded text-xs",disabled:!0,children:"..."})})]}),l().range(Math.max(t-2,0),Math.min(t+2,n)).map(e=>(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:(0,i.Z)("h-8 w-8 rounded text-xs",t===e+1?"border border-[currentColor]":"border border-transparent hover:border-gray-500 hover:text-gray-500 dark:hover:border-[#bbbbbb] dark:hover:text-[#bbbbbb]"),onClick:()=>o(e+1),children:e+1})},e)),t<=n-3&&(0,s.jsxs)(s.Fragment,{children:[t<n-3&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"h-8 w-8 rounded text-xs",disabled:!0,children:"..."})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"h-8 w-8 rounded border border-transparent text-xs hover:border-gray-500 hover:text-gray-500 dark:hover:border-[#bbbbbb] dark:hover:text-[#bbbbbb]",onClick:()=>o(n),children:n})})]})]}),(0,s.jsx)("button",{className:"ml-2 hover:text-gray-500 dark:hover:text-[#bbbbbb]",disabled:t===n,onClick:()=>o(t+1),children:(0,s.jsx)(a.T,{size:12})})]})}},21138:function(e,t,n){n.d(t,{$N:function(){return m},Be:function(){return x},PK:function(){return u},Vq:function(){return l},cN:function(){return p},cZ:function(){return h},fK:function(){return f},hg:function(){return c}});var s=n(27573),r=n(11737),a=n(95623),i=n(7653),o=n(94873);let l=r.fC,c=r.xz,u=r.h_,d=i.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",n),...a})});d.displayName=r.aV.displayName;let h=i.forwardRef((e,t)=>{let{className:n,children:i,noPadding:l=!1,showCloseButton:c=!0,...h}=e;return(0,s.jsxs)(u,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,o.cn)(l?"p-0":"p-6","bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:bg-night dark:border-input-dark fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 rounded-sm border shadow-lg outline-none duration-200 sm:rounded-lg dark:text-white",n),...h,children:[i,c&&(0,s.jsxs)(r.x8,{className:"ring-offset-background data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute right-4 top-4 rounded-sm opacity-70   transition-opacity hover:opacity-100 disabled:pointer-events-none",children:[(0,s.jsx)(a.Z,{className:"h-4 w-4 dark:text-white "}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=r.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};f.displayName="DialogHeader";let p=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};p.displayName="DialogFooter";let m=i.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-[-0.02em]",n),...a})});m.displayName=r.Dx.displayName;let x=i.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,o.cn)("text-muted-foreground text-sm",n),...a})});x.displayName=r.dk.displayName},13784:function(e,t,n){n.d(t,{Z:function(){return m},default:function(){return x}});var s=n(27573),r=n(7653),a=n(22960),i=n(38077),o=n(58022),l=n(46385).lW;let c=new Map;class u extends EventTarget{setSessionId(e){e!==this.sessionId&&(this.sessionId=e,this.eventsList.length>0&&this.setEventsList([]))}abort(){(0!==this.queue.size||0!==this.queue.pending||this.pendingDownloadEventList.length)&&(this.queue.clear(),this.pendingDownloadEventList=[],this.timestampAnchor=0)}getLoading(){let e=this.pendingDownloadEventList.length>0;return e!==this.prevLoading&&(this.prevLoading=e,this.dispatchEvent(new Event("change:loading"))),e}getEventsList(){return this.eventsList}setTimestamp(e){if(e<0){this.timestampAnchor=+new Date;return}this.timestampAnchor=e}setEventsList(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e=e.sort((e,t)=>e.timestampMs-t.timestampMs))||!e.length){this.eventsList=[],this.pendingDownloadEventList=[],this.dispatchEvent(new Event("change:eventsList"));return}if(t){this.eventsList=e.map(e=>({...e,loading:!0})),this.pendingDownloadEventList=e.map(e=>({priority:0,...e})),this.dispatchEvent(new Event("change:eventsList"));return}this.eventsList=e,function(e){for(let t=0;t<e.length;t++){let n=e[t];if((0,i.yi)(n)&&!n.duplicate)for(let s=t+1;s<e.length;s++){let t=e[s];if((0,i.yi)(t)&&t.file===n.file){if(void 0===t.contents||void 0===n.contents||t.contents!==n.contents)break;t.duplicate=!0}}}}(this.eventsList),this.dispatchEvent(new Event("change:eventsList"))}async loadEventsItem(e){let t=this.initialPriority+1;if(c.has(e.event_id)){this.addCompletedEvent(c.get(e.event_id));return}let n=await this.getPresignedUrlsList([e]),s=await this.queue.add(async()=>await d(e,n,{shouldRetry:!0}),{priority:t}),r={...s,loading:!1};c.set(s.event_id,r),this.addCompletedEvent(r)}downloadHeuristic(e,t){let n=["status_update","progress_update","initial_user_message","devin_message","user_message","send_secrets"],s=n.includes(e.type)?1:0,r=n.includes(t.type)?1:0;if(r-s!=0)return r-s;if(t.priority-e.priority!=0)return t.priority-e.priority;let a=Math.abs(e.timestampMs-this.timestampAnchor),i=Math.abs(t.timestampMs-this.timestampAnchor);return a===i?t.timestampMs-e.timestampMs:a-i}*getChunks(){for(;this.pendingDownloadEventList.length>0;)this.pendingDownloadEventList.sort(this.downloadHeuristic.bind(this)),yield this.pendingDownloadEventList.splice(0,u.CONCURRENCY)}async loadEventsList(e){for(let t of(e&&e.length&&this.getEventsList().length!==e.length&&this.setEventsList(e,!0),this.getChunks())){if(0===t.length)continue;let e=await this.getPresignedUrlsList(t),n=[];for(let s of t){let t=this.queue.add(async()=>c.has(s.event_id)?c.get(s.event_id):await d(s,e),{priority:0});n.push(t)}let s=await Promise.all(n);s.forEach(e=>{e.loading=!1,c.set(e.event_id,e)}),this.setEventsList(this.updateList(this.getEventsList(),s))}}updateList(e,t){return e.map(e=>t.find(t=>t.event_id===e.event_id)||e)}requestHighPriorityDownload(e){this.pendingDownloadEventList.forEach(e=>e.priority=0),this.pendingDownloadEventList.filter(e).forEach(e=>e.priority=1)}addCompletedEvent(e){this.setEventsList([...this.eventsList,e])}onActiveOrIdle(){this.getLoading()}async getPresignedUrlsList(e){let t=function(e){let t=[];for(let n of e){if((0,i.dr)(n)&&n.screenshot_key){let e={eventId:n.event_id,s3Key:n.screenshot_key};t.push(e)}if((0,i.yi)(n)&&n.contents_key||(0,i.Fs)(n)&&n.contents_key||(0,i.XD)(n)&&n.contents_key){let e={eventId:n.event_id,s3Key:n.contents_key};t.push(e)}}return t}(e),n=await this.queue.add(()=>(0,o.eV)(this.sessionId,t.map(e=>e.s3Key)),{priority:0}),s=new Map;return t.forEach((e,t)=>{let r=n[t];s.set(e.eventId,{...e,presignedUrl:r.url,headers:r.headers})}),s}constructor(){super(),this.eventsList=[],this.pendingDownloadEventList=[],this.prevLoading=!1,this.queue=new a.Z({concurrency:u.CONCURRENCY}),this.initialPriority=0,this.timestampAnchor=+new Date,this.queue.on("active",this.onActiveOrIdle.bind(this)),this.queue.on("idle",this.onActiveOrIdle.bind(this))}}async function d(e,t,n){let s=t.get(e.event_id);if((0,i.dr)(e)&&e.screenshot_key&&s){let t=await (0,o.i2)({url:s.presignedUrl,headers:s.headers},n);return{...e,screenshot_image_url:t.value}}if((0,i.yi)(e)&&s){let t=await (0,o.i2)({url:s.presignedUrl,headers:s.headers},n);return{...e,contents:t.value}}if((0,i.XD)(e)&&s){let t=await (0,o.i2)({url:s.presignedUrl,headers:s.headers},n);return{...e,contents_raw:t.value}}if((0,i.Fs)(e)&&s){let t=await (0,o.i2)({url:s.presignedUrl,headers:s.headers},n);return{...e,contents_raw:t.value}}if((0,i.Fs)(e)&&e.contents_gzip){let t=await f(e.contents_gzip);return{...e,contents_raw:t}}if((0,i.Fs)(e)&&e.contents){let t=function(e){if(p[e])return p[e];let t=l.from(e,"base64").toString("utf-8");return p[e]=t,t}(e.contents);return{...e,contents_raw:t}}return e}u.CONCURRENCY=50,u.instance=null;let h={};async function f(e){if(h[e])return h[e];let t=new Response(l.from(e,"base64")).body.pipeThrough(new DecompressionStream("gzip")),n=await new Response(t).text();return h[e]=n,n}let p={},m=r.createContext({loadManager:null});var x=e=>{let{children:t}=e,n=new u;return(0,s.jsx)(m.Provider,{value:{loadManager:n},children:t})}},70987:function(e,t,n){n.d(t,{YO:function(){return h},sm:function(){return L},iA:function(){return v},Qo:function(){return k},nA:function(){return d},Yn:function(){return x},F5:function(){return b},ch:function(){return E},Ql:function(){return _},ib:function(){return j},Vc:function(){return c},B9:function(){return u},ky:function(){return g},XU:function(){return N},ur:function(){return f},qN:function(){return m},xc:function(){return w},vz:function(){return y}});var s=n(2560),r=n(4652),a=n(29484),i=n(50386),o=n(32992);async function l(){return await a.L.get("admin/orchestrators").json()}function c(e){return(0,s.a)({queryKey:["multiDevin-".concat(e)],queryFn:async()=>e?await (0,i.Cn)(e):null})}function u(e){return(0,s.a)({queryKey:["multiDevinConfigs-".concat(e)],queryFn:async()=>await (0,i.s1)()})}function d(e){return(0,s.a)({queryKey:["orchestrators-".concat(e)],queryFn:async()=>await l()})}function h(e){let{userId:t}=(0,r.aC)();return(0,s.a)({queryKey:["checkIfSnapshotted-".concat(e)],queryFn:async()=>e?await (0,o.LY)(e):null,enabled:!!t})}function f(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,s.a)({queryKey:["snapshotUpdate-".concat(e)],queryFn:async()=>await (0,o.gp)(e),refetchInterval:15e3,enabled:t,refetchIntervalInBackground:!1})}let p=e=>e.sort((e,t)=>"pending"===e.status&&"pending"!==t.status?-1:"pending"!==e.status&&"pending"===t.status?1:e.snapshot_name.localeCompare(t.snapshot_name));function m(){let{orgId:e}=(0,r.aC)();return(0,s.a)({queryKey:["snapshots",e],queryFn:async()=>await (0,o.DJ)(),select:p,enabled:!!e,refetchInterval:15e3})}function x(e){return(0,s.a)({queryKey:["userGithubOrganizations-".concat(e)],queryFn:async()=>await (0,o.b7)(),staleTime:3e5})}function g(e){return(0,s.a)({queryKey:["slackConnection-".concat(e)],queryFn:async()=>await (0,o.Yu)()})}function y(e){return(0,s.a)({queryKey:["slackConnection-".concat(e)],queryFn:async()=>e?await (0,o.HG)():null})}function w(e,t){return(0,s.a)({queryKey:["slackChannels-".concat(e,"-").concat(t)],queryFn:async()=>e&&t?await (0,o.rj)():null})}function v(e){let{isSignedIn:t}=(0,r.aC)();return(0,s.a)({queryKey:["devinSlackNotifications-".concat(e)],queryFn:async()=>e?await (0,o.ks)(e):null,enabled:!!t})}function b(){return(0,s.a)({queryKey:["allowsSlackNotifications"],queryFn:async()=>await (0,o.hI)()})}function j(e){let{userId:t}=(0,r.aC)();return(0,s.a)({queryKey:["interactive-browser-host",e],queryFn:async()=>{if(!e)return null;let t=await (0,o.cU)(e);return null==t?void 0:t.link.replace("http://","").replace(":6080/","")},enabled:!!t})}function _(e){return(0,s.a)({queryKey:["githubPRs",e],queryFn:async()=>e?await (0,o.KP)():null})}function E(e){return(0,s.a)({queryKey:["githubPRInfo",e],queryFn:async()=>e?await (0,o.UR)(e):null})}function N(){let{userId:e,orgId:t}=(0,r.aC)();return(0,s.a)({queryKey:["shortcuts",e,t],queryFn:()=>(0,o.BH)()})}function L(e){let{userId:t,orgId:n}=(0,r.aC)();return(0,s.a)({queryKey:["customDevinDocumentation",e,t,n],queryFn:()=>(0,o.j)(e),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})}function k(){let{userId:e,orgId:t}=(0,r.aC)();return(0,s.a)({queryKey:["sessions","examples"],queryFn:()=>a.L.get("sessions/examples").json(),enabled:!!(t&&e)})}},52635:function(e,t,n){n.d(t,{j:function(){return r}});var s,r,a=n(69116);n(68571).env.NEXT_PUBLIC_ANALYTICS_DEBUG;let i="aa9299deefd3b5def0b35dd5901db7a4";(s=r||(r={})).LOGIN="Login",s.LEARN_MORE="Learn More",s.TOGGLE_COLLAPSE_SIDEBAR="Collapse Sidebar",s.ADD_SECRET_OPEN_FORM="Add Secret Open Form",s.ADD_SECRET="Add Secret",s.DELETE_SECRET="Delete Secret",s.VIEW_SECRET="View Secret",s.TOGGLE_DESKTOP_NOTIFICATIONS="Toggle Desktop Notifications",s.TOGGLE_SLACK_NOTIFICATIONS="Toggle Slack Notifications",s.VIEW_PLAYBOOK="View Playbook",s.CREATE_PLAYBOOK="Create Playbook",s.DELETE_PLAYBOOK="Delete Playbook",s.CREATE_KNOWLEDGE="Create Knowledge",s.DELETE_KNOWLEDGE="Delete Knowledge",s.VIEW_KNOWLEDGE="View Knowledge",s.VIEW_KNOWLEDGE_EVENT="View Knowledge Event",s.ACCEPT_KNOWLEDGE_SUGGESTION="Accept Knowledge Suggestion",s.REJECT_KNOWLEDGE_SUGGESTION="Reject Knowledge Suggestion",s.EDIT_KNOWLEDGE_SUGGESTION="Edit Knowledge Suggestion",s.UPLOAD_FILE="Upload File",s.UPLOAD_PLAYBOOK="Upload Playbook",s.PROVIDE_CREDENTIALS="Provide Credentials",s.SEND_MESSAGE="Send Message",s.START_NEW_SESSION="Start New Session",s.CHAT_HISTORY_VIEW_SHELL_UPDATES="Chat History View Shell Updates",s.CHAT_HISTORY_VIEW_CODE_UPDATES="Chat History View Code Updates",s.CHAT_HISTORY_COPY_MESSAGE="Chat History Copy Message",s.SHARE_SESSION="Share Session",s.PAUSE_SESSION="Pause Session",s.TERMINATE_SESSION="Terminate Session",s.VSCODE="VSCode",s.CREATE_SNAPSHOT="Create Snapshot",s.TOGGLE_WORK_VIEW="Toggle Work View",s.EXPAND_WORKSPACE="Expand Workspace",s.VIEW_GLOBAL_WORK_DIFF="View Global Work Diff",s.VIEW_FILE_DIFF_HISTORY="View File Diff History",s.DOWNLOAD_CHANGES="Download Changes",s.VIEW_SHELL_HISTORY="View Shell History",s.USE_DEVINS_BROWSER="Use Devins Browser",s.EDITOR_EXPAND="Expand Editor",s.EDITOR_TOGGLE_DIFF="Editor Toggle Diff",s.EDITOR_VIEW_GLOBAL_WORK_DIFF="Editor View Global Work Diff",s.EDITOR_DOWNLOAD_FILES="Editor Download Files",s.HISTORY_PREVIOUS="History Previous",s.HISTORY_NEXT="History Next",s.HISTORY_REWIND="History Rewind",s.HISTORY_FASTFORWARD="History Fast Forward",s.HISTORY_LIVE="History Live",s.RESTORE_CHECKPOINT="Restore Checkpoint",s.SHOW_WORK_LOG="Show Work Log";class o{initialize(){i&&(a.init(i,{defaultTracking:{sessions:!0}}),this.amplitude=a)}track(e,t){this.amplitude&&this.amplitude.getUserId()&&this.amplitude.track(e,t)}setUser(e,t){if(this.amplitude&&(this.amplitude.setUserId(e),t))try{let e=new this.amplitude.Identify;Object.entries(t).forEach(t=>{let[n,s]=t;e.set(n,s)}),this.amplitude.identify(e)}catch(e){}}trackInteraction(e){this.track(e,{interaction:e})}}let l=new o;t.Z=l},67350:function(e,t,n){n.d(t,{P:function(){return r},a:function(){return q}});var s=n(7653),r=e=>{let{children:t}=e;return t},a=n(27573),i=n(40152),o=n(40311),l=n(23130),c=n(87659),u=n(61802),d=n(74011),h=n(70987),f=n(4652),p=n(2174),m=n(87879),x=n(86845),g=n(19771),y=n(75113),w=n(21138),v=n(35465),b=n(29025),j=n(90276),_=n(99320),E=n(51744),N=n(95014),L=n(9565),k=n(57908),S=n(18250),O=e=>{let{fileName:t,originalContents:n,modifiedContents:r,isSelected:i,setSelectedFileName:o,focusedFileRef:l,fileCount:c}=e;j._m.config({paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.48.0/min/vs"}});let{resolvedTheme:u}=(0,S.F)(),[d,h]=(0,s.useState)(!1),[f,p]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"react-diff-viewer flex w-full flex-col pr-3 md:pr-4 dark:text-white [&:not(:last-child)]:mb-3",ref:i?l:null,children:[(0,a.jsx)("div",{className:(0,k.Z)("sticky top-0 z-50 cursor-pointer rounded-t-lg border border-zinc-200 bg-slate-100 pl-4 font-mono text-xs dark:border-[#484848] dark:bg-zinc-800",f?"rounded-b-lg":"",c>1?"py-2":"py-3"),"data-file-section":t,ref:i?l:null,onClick:()=>o(t),children:(0,a.jsxs)("div",{className:"flex max-w-full items-center gap-2 align-middle",children:[(0,a.jsx)("div",{className:"flex-1 truncate",style:{direction:"rtl"},title:t,children:t.replace("/home/ubuntu/","")}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"hover:bg-slate-3000 ml-auto rounded-sm border p-1 duration-150 dark:hover:bg-gray-700",onClick:()=>h(!d),children:d?(0,a.jsx)(_.G,{size:16}):(0,a.jsx)(E.S,{size:16})}),(0,a.jsx)("div",{className:"ml-1.5 mr-4 rounded-sm border p-1 duration-150 hover:bg-slate-300 dark:hover:bg-gray-700",onClick:()=>p(!f),children:f?(0,a.jsx)(N.T,{size:16}):(0,a.jsx)(L.p,{size:16})})]})]})}),(0,a.jsx)("div",{className:(0,k.Z)("code-viewer h-full overflow-hidden border-b border-l border-r border-zinc-200 dark:border-[#484848]",f?"hidden":"block"),children:(0,a.jsx)(j.SV,{options:{readOnly:!0,ignoreTrimWhitespace:!1,renderSideBySide:!0,automaticLayout:!0,hideUnchangedRegions:{enabled:!0},scrollbar:{alwaysConsumeMouseWheel:!1},scrollBeyondLastLine:!1},theme:"dark"===u?"vs-dark":"vs-light",original:n,modified:r,language:D(t),className:(0,k.Z)("w-full overflow-hidden font-mono delay-75 duration-100 ease-in-out",!d&&c>1?"h-[40vh]":"h-[85vh]")})})]})};let D=e=>{let t=e.split(".").pop();return"py"===t?"python":"js"===t||"jsx"===t?"javascript":"ts"===t||"tsx"===t?"typescript":"json"===t?"json":"css"===t?"css":"html"===t?"html":"mdx"===t||"md"===t?"markdown":"java"===t?"java":"c"===t?"c":"cpp"===t?"cpp":"go"===t?"go":"rs"===t?"rust":"php"===t?"php":"rb"===t?"ruby":"swift"===t?"swift":"kt"===t?"kotlin":"sh"===t?"shell":"xml"===t?"xml":"yml"===t||"yaml"===t?"yaml":"sql"===t?"sql":"scala"===t?"scala":t};var C=e=>{let{diff:t}=e,[n,r]=(0,s.useState)(Object.keys(t)[0]),i=(0,s.useRef)(null),o=(0,s.useMemo)(()=>Object.keys(t).map(e=>({path:e,modified:!1})),[t]),l=Object.keys(t).length;return(0,a.jsxs)("div",{className:"flex h-full w-full min-w-0 flex-grow rounded-xl bg-slate-100 dark:border-neutral-600 dark:bg-zinc-900",children:[(0,a.jsx)("div",{className:"no-scrollbar flex h-full w-64 min-w-64 flex-col overflow-scroll rounded-l-xl bg-slate-100 pt-1 dark:bg-zinc-900",children:(0,a.jsxs)("div",{className:"flex h-full w-full flex-col overflow-hidden dark:text-white",children:[(0,a.jsx)("span",{className:"mb-2 ml-3 mt-2 overflow-hidden text-xs font-bold uppercase text-black dark:text-white",children:"EXPLORER"}),(0,a.jsx)("div",{className:"flex h-full w-full overflow-auto ",children:(0,a.jsx)(b.zH,{files:o,onFileClick:e=>r(e),selectedFile:n,removeRedundantLevels:!0},o.map(e=>e.path).join("-"))})]})}),(0,a.jsx)("div",{className:"flex h-full w-full min-w-0 flex-grow flex-col pl-3 pt-3",children:(0,a.jsxs)(v.Z,{className:"flex h-full w-full flex-col ",children:[Object.keys(t).map(e=>(0,a.jsx)(O,{fileName:e,originalContents:t[e].base_contents,modifiedContents:t[e].new_contents,isSelected:n===e,setSelectedFileName:r,focusedFileRef:i,fileCount:l},e)),l>1&&(0,a.jsx)("div",{className:"h-[45vh]"})]})})]})};let I=e=>{let{pullRequest:t}=e,{data:n,isPending:r,error:i}=(0,h.ch)(null==t?void 0:t.gh_pr),[o,l]=(0,s.useState)("ALL"),c=(0,s.useMemo)(()=>{var e;if(n)return"ALL"===o?n.diff:null===(e=n.commits.find(e=>e.sha===o))||void 0===e?void 0:e.files},[n,o]);return r?(0,a.jsx)(g.T,{size:"sm"}):i||!n?(0,a.jsx)("div",{className:"flex h-full w-full flex-col items-center justify-center text-center align-middle text-sm",children:"There was an error loading this page. Please try again later."}):(0,a.jsx)("div",{className:"w-full overflow-hidden rounded-xl border border-neutral-200 dark:border-neutral-600 dark:bg-zinc-900",children:(0,a.jsxs)("div",{className:"flex h-full",children:[(0,a.jsx)("div",{className:"min-w-0 flex-grow",children:(0,a.jsx)(C,{diff:c},o)}),(0,a.jsx)(R,{commits:n.commits,selectedCommit:o,setSelectedCommit:l})]})})},R=e=>{let{commits:t,setSelectedCommit:n,selectedCommit:s}=e;return(0,a.jsx)("div",{className:"no-scrollbar flex h-full w-[21rem] min-w-[21rem] flex-col overflow-scroll rounded-r-xl border-l border-neutral-200 p-2 pl-2 pt-1 dark:border-l-neutral-600",children:(0,a.jsxs)("div",{className:"flex h-full w-full flex-col overflow-hidden dark:text-white",children:[(0,a.jsx)("span",{className:"mb-1 mt-2 text-xs font-bold uppercase text-black dark:text-white",children:"Commits"}),(0,a.jsxs)("div",{className:"flex h-full w-full flex-col overflow-auto",children:[t.map(e=>(0,a.jsxs)("div",{className:"mb-2 flex cursor-pointer items-end rounded-md p-2 ".concat(s===e.sha?"bg-blue-500 text-white":"border-neutral-300 dark:border-neutral-700"),onClick:()=>n(e.sha),children:[(0,a.jsx)(y.u,{content:(0,a.jsx)("span",{className:"text-xs",children:e.author.login}),side:"top",className:"px-2 py-1",delayDuration:100,children:(0,a.jsx)("img",{src:e.author.avatar_url,alt:"Avatar",className:"mr-2 h-4 w-4 rounded-full"})}),(0,a.jsx)(y.u,{content:(0,a.jsx)("span",{className:"text-xs",children:e.message}),side:"top",className:"px-2 py-1",delayDuration:100,children:(0,a.jsx)("p",{className:"min-w-0 flex-grow truncate whitespace-nowrap text-xs font-semibold ",children:e.message})}),(0,a.jsx)("span",{className:"ml-3 whitespace-nowrap text-xs text-gray-400 ",children:(0,x.Q)(new Date(e.author.date),{addSuffix:!0})})]},e.sha)),(0,a.jsx)("div",{className:"mb-2 flex cursor-pointer items-center justify-center rounded-md p-2 text-sm ".concat("ALL"===s?"bg-green-500 text-white":"border-neutral-300 dark:border-neutral-700"),onClick:()=>n("ALL"),children:(0,a.jsx)("span",{className:"mr-2",children:"ALL"===s?"Viewing Final Diff":"See Final Diff"})})]})]})})};var F=e=>{let{open:t,onClose:n,pullRequest:s}=e;return(0,a.jsx)(w.Vq,{open:t,onOpenChange:n,children:(0,a.jsxs)(w.cZ,{className:"flex h-[calc(100vh-5rem)] w-full max-w-[130rem] max-w-[calc(100vw-5rem)] flex-col items-start justify-start",children:[(0,a.jsx)(w.fK,{children:(0,a.jsx)(w.$N,{children:"Pull Request Details"})}),(0,a.jsx)(I,{pullRequest:s})]})})},T=()=>{let{orgId:e,userId:t}=(0,f.aC)(),{data:n,isLoading:r,error:i}=(0,h.Ql)(e),[o,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(""),[x,g]=(0,s.useState)(!1),y=(0,s.useMemo)(()=>{if(n)return new l.Z(n,{findAllMatches:!0,keys:["title","created_by","pr_state","primary_email_address","pr_number"],minMatchCharLength:1,threshold:.4})},[n]),w=e=>{c(e);let t=new URLSearchParams(window.location.search);t.set("pr",e.pr_number.toString()),window.history.pushState({},"","?".concat(t.toString())),g(!0)};(0,s.useEffect)(()=>{if(!n)return;let e=new URLSearchParams(window.location.search).get("pr");if(!e)return;let t=n.find(t=>t.pr_number.toString()===e);t&&w(t)},[n]);let{filteredOrgPRs:v,filteredPersonalPRs:b}=(0,s.useMemo)(()=>{if(!n||!y)return{filteredOrgPRs:[],filteredPersonalPRs:[]};let e=n;return d&&(e=y.search(d).map(e=>e.item)),{filteredOrgPRs:e.filter(e=>e.user_id!==t),filteredPersonalPRs:e.filter(e=>e.user_id===t)}},[y,n,d,t]),j=(0,s.useMemo)(()=>[{title:"Team's Pull Requests",list:v,value:"team"},{title:"My Pull Requests",list:b,value:"mine"}],[v,b]);return r?(0,a.jsx)(u.g,{}):i?(0,a.jsx)("div",{className:"flex h-full w-full flex-col items-center justify-center text-center align-middle text-sm",children:"There was an error loading this page. Please try again later."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.yq,{action:"manage",lists:j,searchPlaceholder:"Search pull requests",setSearchTerm:m,children:e=>(0,a.jsx)(P,{pulls:e,onSeePR:w})}),(0,a.jsx)(F,{open:x,onClose:()=>{c(null);let e=new URLSearchParams(window.location.search);e.delete("pr"),window.history.pushState({},"","?".concat(e.toString())),g(!1)},pullRequest:o})]})};let P=e=>{let{pulls:t,onSeePR:n}=e,[r,i]=(0,s.useState)(1),o=(0,m._Z)(),l=10*r,c=t.slice(l-10,l),u=0===t.length,h=Math.ceil(t.length/10),f=t.some(e=>e.is_custom_devin);return(0,s.useEffect)(()=>{i(1)},[t]),(0,a.jsxs)("div",{className:"relative flex-1",children:[u&&(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,a.jsx)("span",{className:"text-center text-xs text-[#8F8F8F] dark:text-[#8F8F8F]",children:"No pull requests found"})}),!u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("table",{className:"w-full table-fixed",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left text-[10px] dark:text-[#8F8F8F]",children:[(0,a.jsx)("th",{className:"w-[25%] pb-3 pl-3 lg:w-[20%]",children:"Session"}),(0,a.jsx)("th",{className:"w-[30%] pb-3",children:"PR Title"}),(0,a.jsx)("th",{className:"w-[100px] pb-3",children:"PR Number"}),(0,a.jsx)("th",{className:"w-[130px] pb-3",children:"PR State"}),(0,a.jsx)("th",{className:"pb-3",children:"Playbook"}),f?(0,a.jsx)("th",{className:"pb-3",children:"Custom Devin"}):null,(0,a.jsx)("th",{className:"pb-3",children:"Session Owner"}),(0,a.jsx)("th",{className:"pb-3",children:"Created At"}),o&&(0,a.jsx)("th",{className:"pb-3",children:"See PR"})]})}),(0,a.jsx)("tbody",{children:c.map(e=>(0,a.jsx)(A,{item:e,hasCustomDevin:f,onSeePR:n},e.devin_id))})]}),(0,a.jsx)(d.Z,{currentPage:r,totalPages:h,handlePageChange:i})]})]})},A=e=>{let{item:t,hasCustomDevin:n,onSeePR:s}=e,r=(0,m._Z)();return(0,a.jsxs)("tr",{className:"dark:hover:bg-extra-night cursor-pointer text-xs hover:bg-[#f2f2f2]",children:[(0,a.jsx)("td",{className:"group rounded-sm py-3 pl-3 pr-3 font-semibold",children:(0,a.jsx)("span",{className:"line-clamp-1 text-ellipsis break-words",children:(0,a.jsxs)("a",{href:"/sessions/".concat(t.devin_id.replace("devin-","")),target:"_blank",rel:"noopener noreferrer",className:"flex",children:[t.title,(0,a.jsx)("span",{className:"pl-2 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:(0,a.jsx)(i.O,{className:"h-4 w-4"})})]})})}),(0,a.jsx)("td",{className:"py-3 pr-3 font-semibold dark:text-white",children:(0,a.jsx)("span",{className:"group relative line-clamp-1 text-ellipsis break-words",children:(0,a.jsxs)("a",{href:t.gh_pr,target:"_blank",rel:"noopener noreferrer",className:"flex",children:[t.pr_title,(0,a.jsx)("span",{className:"pl-2 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:(0,a.jsx)(i.O,{className:"h-4 w-4"})})]})})}),(0,a.jsx)("td",{className:"py-3 pr-3",children:(0,a.jsx)("span",{className:"line-clamp-1 text-ellipsis break-words",children:t.pr_number})}),(0,a.jsx)("td",{className:"py-3 pr-3",children:(0,a.jsx)("span",{className:"line-clamp-1 text-ellipsis break-words",children:t.pr_state})}),(0,a.jsx)("td",{className:"py-3 pr-3",children:(0,a.jsx)("span",{className:"line-clamp-1 text-ellipsis break-words",children:t.playbook_id&&(0,a.jsx)(c.default,{href:"/playbooks/".concat(t.playbook_id.replace("playbook-","")),children:t.playbook_title})})}),n?(0,a.jsx)("td",{className:"fede py-3 pr-3",children:(0,a.jsx)("span",{className:"line-clamp-1 text-ellipsis break-words",children:t.is_custom_devin?"Yes":"No"})}):null,(0,a.jsx)("td",{className:"py-3 pr-3",children:(0,a.jsx)("span",{className:"line-clamp-1 text-ellipsis break-words",children:t.created_by})}),(0,a.jsx)("td",{className:"rounded-sm py-3 text-[#8F8F8F]",children:(0,a.jsx)("span",{className:"line-clamp-1 text-ellipsis break-words",children:(0,o.WU)(new Date(t.created_at),"MM/dd/yyyy")})}),r&&(0,a.jsx)("td",{className:"rounded-sm py-3 text-[#8F8F8F]",children:(0,a.jsx)("span",{className:"line-clamp-1 text-ellipsis break-words font-bold",onClick:()=>s(t),children:"Open"})})]})};var q=()=>(0,a.jsx)(T,{})},50386:function(e,t,n){n.d(t,{Cn:function(){return l},EJ:function(){return c},Jh:function(){return h},Yw:function(){return u},hV:function(){return d},s1:function(){return o},u4:function(){return i}});var s=n(18255),r=n.n(s),a=n(29484);async function i(e,t,n,s,r,i){try{return await a.L.post("scheduled-devin/launch",{json:{user_id:s,org_id:r,scheduled_devin_id:e,webhook_url:null,custom_prompt:t,num_workers:n,criteria_id:i}}).json()}catch(e){throw console.error("Error in launchScheduledDevin:",e),e}}async function o(){let e=await a.L.get("scheduled-devin/all").json();return e.forEach(e=>{e.config_str=JSON.stringify(e.config||{},null,2)}),e}async function l(e){let t=await a.L.get("scheduled-devin/".concat(e)).json(),n=["raw"];return t.tasks_str=JSON.stringify(t.tasks.map(e=>r().pick(e,n)),null,2),t.config_str=JSON.stringify(t.config||{},null,2),t}async function c(e,t){return await a.L.put("scheduled-devin/".concat(e),{json:t}).json()}async function u(e){try{return await a.L.post("scheduled-devin/".concat(e,"/reset-tasks")).json()}catch(e){throw console.error("Error in resetScheduledDevinTasks:",e),e}}async function d(e){try{return await a.L.post("scheduled-devin",{json:e}).json()}catch(e){throw console.error("Error in createScheduledDevin:",e),e}}async function h(e){return await a.L.delete("scheduled-devin/".concat(e)).json()}},24898:function(e,t,n){n.d(t,{Y:function(){return r}});var s=n(29484);let r={put:async(e,t,n)=>{await s.L.post("session/".concat(e,"/evaluation"),{json:{notes:t,outcome:n}})},getLatest:async e=>{let t=await s.L.get("session/".concat(e,"/evaluation?latest=true")).json();return t&&t.length>0?t[0]:null},patch:async(e,t,n)=>{let r="session/".concat(e,"/evaluation/").concat(t);await s.L.patch(r,{json:{notes:n}})}}},32992:function(e,t,n){n.d(t,{YZ:function(){return o.Y},cp:function(){return l},R9:function(){return c},r1:function(){return h},LY:function(){return _},Yu:function(){return F},HG:function(){return T},ZA:function(){return R},Ox:function(){return y},fj:function(){return k},Lh:function(){return C},rF:function(){return A},vZ:function(){return q},B4:function(){return b},lP:function(){return d},j:function(){return z},UR:function(){return Y},KP:function(){return M},BH:function(){return S},DE:function(){return j},DJ:function(){return g},b7:function(){return E},hI:function(){return V},ks:function(){return K},A0:function(){return N},mg:function(){return x},rj:function(){return P},cU:function(){return G},UF:function(){return L},o:function(){return W},xc:function(){return Z},UA:function(){return I},Zk:function(){return B},al:function(){return f},Y2:function(){return H},vB:function(){return O},J4:function(){return U},Ut:function(){return D},gp:function(){return v},Ay:function(){return p},RH:function(){return w},cT:function(){return u}});var s=n(30449),r=n(18255),a=n.n(r),i=n(29484),o=n(24898);let l={selfInvite:async()=>{await i.L.post("organizations/self-invite")},joinTechnicalPreview:async()=>{await i.L.post("organizations/join-technical-preview").json()}},c={getHostedServices:async e=>e?await i.L.get("sessions/".concat(e,"/hosted-services")).json():null,keepAlive:{get:async e=>await i.L.get("sessions/".concat(e,"/keep-alive")).json(),post:async(e,t)=>await i.L.post("sessions/".concat(e,"/keep-alive"),{json:{keep_alive:t}}).json()},spendingLimits:{get:async e=>{if(!e)return null;let t=await i.L.get("sessions/".concat(e,"/spending-limits")).json();return{currentLimit:t.max_acu_limit||0,currentUsage:t.current_usage||0}},post:async(e,t,n)=>{await i.L.post("sessions/".concat(e,"/spending-limits"),{json:{max_credits:t,is_global:n}})}}};async function u(e,t){let n=new FormData;return n.append("file",e),await i.L.post("upload-attachment",{signal:t.signal,body:n}).json()}async function d(e){await i.L.post("devin/".concat(e,"/sharing"),{json:{is_publicly_shared:!0}}).json()}async function h(e,t){try{return await i.L.post("devin/".concat(e,"/title"),{json:{title:t}}).json()}catch(e){if(e instanceof s.B)throw Error("Failed to enable sharing");throw console.error("Error enabling sharing:",e),e}}async function f(e,t,n,s){return await i.L.post("revive-devin",{json:{devin_id_to_revive:e,checkpoint_id:t,orchestrator_id:n,footer_overwrite:s}}).json()}async function p(e,t){try{let n=await i.L.put("unlist_devin/".concat(e,"?is_unlisting=").concat(t));return n.ok?n.json():{success:!1}}catch(e){throw console.error("Error unlisting devin:",e),e}}async function m(e,t){let n=await i.L.get("user/".concat(e,"/").concat(t,"/profile-picture")).json().catch(()=>null);return n?n.image_url:null}let x=a().memoize(m,(e,t)=>"profile-picture-".concat(e,"-").concat(t));async function g(){return await i.L.get("snapshots").json()}async function y(e,t,n,s){return await i.L.post("create-snapshot",{json:{devin_id:e,snapshot_name:t,description:n,startup_commands:s}}).json()}async function w(e,t,n,s){await i.L.put("snapshot/".concat(e),{json:{snapshot_name:t,description:n,startup_commands:s}})}async function v(e){return await i.L.get("snapshot/".concat(e)).json()}async function b(e){await i.L.delete("snapshot/".concat(e))}async function j(e){return e?i.L.get("get_snapshot/".concat(e)).json():null}async function _(e){try{return await i.L.get("snapshot/".concat(e,"/ami")).json()}catch(e){if(e instanceof s.B&&404===e.response.status)return null;throw e}}let E=async()=>await i.L.get("integrations/github/repos").json(),N=async()=>await i.L.get("integrations/github").json(),L=async e=>{await i.L.post("integrations/github/pat",{json:{pat:e}})},k=async()=>{await i.L.delete("integrations/github")};async function S(){return await i.L.get("shortcuts").json()}async function O(e){return await i.L.put("shortcuts/".concat(e,"/set-default")).json()}async function D(e){return await i.L.put("shortcuts/".concat(e,"/set-recent")).json()}async function C(e){return await i.L.delete("shortcuts/".concat(e)).json()}async function I(e,t){return await i.L.patch("shortcuts/".concat(e),{json:{title:t}}).json()}async function R(e){return await i.L.post("shortcuts",{json:e}).json()}async function F(){try{return await i.L.get("slack-access").json()}catch(e){if(e instanceof s.B&&404===e.response.status)return null;throw console.error("Error checking Slack connection:",e),e}}async function T(){return await i.L.get("member-integrations").json()}async function P(){return await i.L.get("integrations/slack/users/current/channels").json()}async function A(){return await i.L.delete("remove-slack-integration")}async function q(){await i.L.delete("remove-slack-member-integration")}async function K(e){return await i.L.get("devin/".concat(e,"/notifications")).json()}async function U(e,t){return await i.L.post("devin/".concat(e,"/notifications"),{json:{notifications_enabled:t}}).json()}async function V(){return await i.L.get("users/notifications_default").json()}async function H(e){await i.L.post("users/notifications_default",{json:{notifications_enabled:e}})}async function W(e){return await i.L.put("vscode-server/".concat(e)).json()}async function G(e){return await i.L.put("interactive-browser/".concat(e)).json()}async function M(){return await i.L.get("metrics/github-prs").json()}async function Y(e){let t=new URLSearchParams({pr_url:e}).toString();return await i.L.get("metrics/github-pr?".concat(t)).json()}async function z(e){try{return await i.L.get("custom-devin/".concat(e,"/documentation")).json()}catch(e){throw Error("Failed to fetch custom devin documentation")}}async function B(e,t,n){try{return await i.L.post("resume-devin",{json:{user_id:e,org_id:t,devin_id:n}}).json()}catch(e){throw Error("Failed to resume devin")}}async function Z(e,t,n){return await i.L.post("human-mode/regenerate",{json:{hint:e,queryOid:t,modelName:n,logFileName:""}}).json()}},13415:function(e,t,n){var s,r;n.d(t,{n:function(){return s}}),(r=s||(s={})).DEVIN="devin",r.DEVIN_LITE="devin-lite",r.DEVIN_ZERO="devin-zero",r.MULTI_DEVIN="multiDevin",r.SPARKOPS="devin-sparkop-0607",r.UNITY_CATALOG="unity-catalog"}}]);